<body>
    <h1>ActorsFYP</h1>
    <!-- <script type="module" src="./micro/big.js"></script> -->
    <!-- <script type="module" src="./micro/chameneos.js"></script> -->
    <!-- <script type="module" src="./micro/count.js"></script> -->
    <!-- <script type="module" src="./micro/fib.js"></script>/ -->
    <!-- <script type="module" src="./micro/fjcreate.js"></script> -->
    <!-- <script type="module" src="./micro/fjthrput.js"></script> -->
    <!-- <script type="module" src="./micro/pingpong.js"></script> -->
    <!-- <script type="module" src="./micro/threadring.js"></script> -->
    <!-- <script type="module" src="./parallel/mandelbrot/mandelbrot.js"></script> -->
    <!-- <script type="module" src="./parallel/mandelbrot/mandelbrotnoharvest.js"></script> -->
    <!-- <script type="module" src="./parallel/piprecision.js"></script> -->
    <!-- <script type="module" src="./parallel/trapezoid.js"></script> -->
    <!-- <script type="module" src="./parallel/pingpongnet.js"></script> -->
    <!-- <script type="module" src="./micro/pingpong.js"></script> -->
    <!-- <script type="module" src="./parallel/fjcreatenet.js"></script> -->
    <!-- <script type="module" src="./micro/fjcreate.js"></script> -->    
    <script type="module">
        import actors from './browseractors.js';
        const { init, closeConnection, spawn, spawnRemote, terminate, send} = actors;

        //Define the behaviour of the two actors. (This behaviour definition is used in the rest of the examples in the README)
        const pingPongBehaviour = (state, message, self) => {
            console.log(message.val);
            if(!(message.val-1 < 0))
                send(message.replyTo, {val: message.val-1, replyTo: self});
        };

        //Spawn actors
        const ping = spawn({}, pingPongBehaviour);
        const pong = spawn({}, pingPongBehaviour);

        //Send ping a message. Output will be decrementing values from 5 to 0
        send(ping, {replyTo: pong, val: 5})
    </script>
</body>
